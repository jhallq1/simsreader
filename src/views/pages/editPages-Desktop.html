<div class="chapter-desktop-view">
  <div layout="column" class="pagesContent">
    Files.length: {{files.length}}

    <div ng-show="!!progress" layout="row" layout-sm="column" ng-class="{spinner: !!progress}" layout-align="space-around"><p>Rendering Images</p></div>
    <empty-chapter ng-show="!files"></empty-chapter>
    <div ng-if="files" dragula='"bag-one"' dragula-scope="$parent" dragula-model="files">
      <div layout="column" ng-repeat="file in files track by $index">
        <div layout="column" flex="100" class="desktopRepeat">
          <div layout="row">
            Page #{{$index + 1}}
            <div flex=""></div>
            <remove-page files="files" index="$index"></remove-page>
          </div>
          <div layout="row">
            <figure layout="column" flex="45">
              <img progress show="show" ng-if="!file.url" ngf-thumbnail="file" ngf-size="{width: 200, height: 200, quality: 1}">
              <img progress ng-if="file.url" ng-src="{{file.url}}" ngf-size="{width: 200, height: 200, quality: 1}">
              <div progress></div>
              <figcaption class="break-wrap">{{file.name}}</figcaption>
            </figure>
            <textarea flex="55" layout="column" class="caption" ng-model="file.caption" placeholder="Write a caption to accompany this screenshot">
            </textarea>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
